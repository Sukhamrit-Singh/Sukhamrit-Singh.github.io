<!DOCTYPE html>
<html>
<head>
    <title>Project 2 - CS180</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            line-height: 1.8;
            color: #e0e0e0;
            background: #0a0a0a;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 60px 80px;
        }

        h1 {
            font-size: 2.5em;
            font-weight: 300;
            letter-spacing: -1px;
            color: #ffffff;
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 1em;
            color: #808080;
            margin-bottom: 60px;
            font-weight: 400;
        }

        .author {
            color: #606060;
            margin: 10px 0;
            font-size: 1em;
        }

        h2 {
            color: #ffffff;
            font-size: 1.8em;
            font-weight: 300;
            margin: 80px 0 40px;
            letter-spacing: -0.5px;
        }

        h3 {
            color: #c0c0c0;
            font-size: 1.3em;
            font-weight: 300;
            margin: 40px 0 20px;
        }

        p {
            color: #a0a0a0;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        ul, ol {
            color: #a0a0a0;
            margin-left: 30px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 8px;
        }

        code {
            background: #1a1a1a;
            color: #80ff80;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: inherit;
        }

        pre {
            background: #1a1a1a;
            color: #80ff80;
            padding: 20px;
            border-radius: 4px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: inherit;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .image-wrapper {
            margin-bottom: 20px;
        }

        .image-container {
            position: relative;
            overflow: hidden;
            background: #1a1a1a;
            border-radius: 4px;
            transition: transform 0.2s ease;
        }

        .image-container:hover {
            transform: scale(1.02);
        }

        .image-container img {
            width: 100%;
            height: auto;
            display: block;
            opacity: 0.9;
            transition: opacity 0.2s ease;
        }

        .image-container:hover img {
            opacity: 1;
        }

        .image-caption {
            color: #ffffff;
            font-size: 0.95em;
            margin-top: 10px;
            text-align: center;
        }

        .offset-info {
            font-size: 0.85em;
            color: #606060;
            margin-top: 4px;
            text-align: center;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 40px 0;
        }

        .comparison-item {
            text-align: center;
        }

        .comparison-item img {
            width: 100%;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        .comparison-label {
            color: #808080;
            font-size: 0.9em;
        }

        .algorithm-box {
            background: #1a1a1a;
            border-left: 3px solid #404040;
            padding: 20px;
            margin: 30px 0;
            border-radius: 4px;
        }

        .highlight {
            background: #1a1a1a;
            border-left: 3px solid #ffff00;
            padding: 20px;
            margin: 30px 0;
            border-radius: 4px;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin: 40px 0;
        }

        .results-table th {
            background: #1a1a1a;
            color: #ffffff;
            padding: 12px;
            text-align: left;
            font-weight: 400;
        }

        .results-table td {
            padding: 10px;
            border-bottom: 1px solid #2a2a2a;
            color: #a0a0a0;
        }

        .results-table tr:hover {
            background: #151515;
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: #1a1a1a;
            border: 1px solid #404040;
            color: #808080;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.2s ease;
            z-index: 1000;
            font-size: 14px;
        }
        
        .back-button:hover {
            background: #2a2a2a;
            color: #ffffff;
            border-color: #606060;
        }

        .triple-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 40px 0;
        }

        .frequency-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 40px;
            }
            
            .image-grid {
                grid-template-columns: 1fr;
            }
            
            .comparison {
                grid-template-columns: 1fr;
            }

            .triple-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="./index.html" class="back-button" title="Back to portfolio">
        <span style="font-size: 14px;">../</span>
    </a>
    
    <div class="container">
        <div style="margin-bottom: 60px;">
            <h1 style="margin-bottom: 20px;">proj2/</h1>
            <div style="margin-left: 40px;">
                <div style="margin: 8px 0;">
                    <a href="#overview" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">├── </span>
                        <span style="color: #ffffff;">overview/</span>
                        <span style="color: #606060; margin-left: 8px;">Fun with Filters and Frequencies</span>
                    </a>
                </div>
                <div style="margin: 8px 0;">
                    <a href="#part1" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">├── </span>
                        <span style="color: #ffffff;">part1_filters/</span>
                        <span style="color: #606060; margin-left: 8px;">Convolutions and Edge Detection</span>
                    </a>
                </div>
                <div style="margin: 8px 0;">
                    <a href="#part1-1" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">│   ├── </span>
                        <span style="color: #ffffff;">convolutions/</span>
                        <span style="color: #606060; margin-left: 8px;">Implementation from Scratch</span>
                    </a>
                </div>
                <div style="margin: 8px 0;">
                    <a href="#part1-2" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">│   ├── </span>
                        <span style="color: #ffffff;">finite_difference/</span>
                        <span style="color: #606060; margin-left: 8px;">Edge Detection with Gradients</span>
                    </a>
                </div>
                <div style="margin: 8px 0;">
                    <a href="#part1-3" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">│   └── </span>
                        <span style="color: #ffffff;">dog_filter/</span>
                        <span style="color: #606060; margin-left: 8px;">Derivative of Gaussian</span>
                    </a>
                </div>
                <div style="margin: 8px 0;">
                    <a href="#part2" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">├── </span>
                        <span style="color: #ffffff;">part2_frequencies/</span>
                        <span style="color: #606060; margin-left: 8px;">Frequency Domain Applications</span>
                    </a>
                </div>
                <div style="margin: 8px 0;">
                    <a href="#part2-1" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">│   ├── </span>
                        <span style="color: #ffffff;">sharpening/</span>
                        <span style="color: #606060; margin-left: 8px;">Unsharp Masking</span>
                    </a>
                </div>
                <div style="margin: 8px 0;">
                    <a href="#part2-2" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">│   ├── </span>
                        <span style="color: #ffffff;">hybrid_images/</span>
                        <span style="color: #606060; margin-left: 8px;">Multi-scale Perception</span>
                    </a>
                </div>
                <div style="margin: 8px 0;">
                    <a href="#part2-3" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">│   ├── </span>
                        <span style="color: #ffffff;">stacks/</span>
                        <span style="color: #606060; margin-left: 8px;">Gaussian and Laplacian Stacks</span>
                    </a>
                </div>
                <div style="margin: 8px 0;">
                    <a href="#part2-4" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">│   └── </span>
                        <span style="color: #ffffff;">blending/</span>
                        <span style="color: #606060; margin-left: 8px;">Multi-resolution Blending</span>
                    </a>
                </div>
                <div style="margin: 8px 0;">
                    <a href="#summary" style="color: #808080; text-decoration: none; transition: color 0.2s ease;">
                        <span style="color: #404040;">└── </span>
                        <span style="color: #ffffff;">summary/</span>
                        <span style="color: #606060; margin-left: 8px;">Key Learnings</span>
                    </a>
                </div>
            </div>
        </div>

        <h1 style="font-size: 2.5em; margin-bottom: 10px;">Fun with Filters and Frequencies!</h1>
        <div style="color: #808080; margin-bottom: 40px; font-size: 1em;">CS180 Project 2: Image Processing in Spatial and Frequency Domains</div>

        <h2 id="overview">Overview</h2>
        <p>
            This project explores fundamental concepts in image processing through both spatial and frequency domain operations. 
            We begin by building intuitions about 2D convolutions and filtering, implementing everything from scratch to understand 
            the mathematics behind image transformations. We then advance to frequency domain analysis, creating hybrid images 
            that change interpretation based on viewing distance, and implementing multi-resolution blending for seamless image compositing.
        </p>

        <div style="background: linear-gradient(90deg, #1a1a1a 0%, transparent 100%); padding: 20px; margin: 60px -20px 40px; border-left: 3px solid #40ff40;">
            <h2 id="part1" style="margin: 0; color: #40ff40;">Part 1: Fun with Filters</h2>
            <div style="color: #808080; font-size: 0.9em; margin-top: 5px;">Building intuitions about 2D convolutions and filtering</div>
        </div>

        <h3 id="part1-1">Part 1.1: Convolutions from Scratch</h3>
        <p>
            I implemented 2D convolution from scratch using NumPy, starting with a naive four-loop implementation and optimizing 
            to a two-loop version. The implementation includes proper zero-padding to maintain image dimensions. I compared my 
            implementation with <code>scipy.signal.convolve2d</code> to verify correctness.
        </p>

        <h3>Implementation Details</h3>
        <div class="algorithm-box">
            <p><strong>Four-loop implementation:</strong> Iterate over each output pixel position and kernel position</p>
            <p><strong>Two-loop implementation:</strong> Vectorized inner operations for better performance</p>
            <p><strong>Padding:</strong> Zero-fill values to handle boundaries correctly</p>
        </div>

        <pre>
def pad(img, x, y):
    h, w = img.shape
    out = np.zeros((h + 2*y, w + 2*x), dtype=np.float64)
    out[y: y + h, x: x + w] = img[:]
    return out

def four_loops(img, kernel):
    h, w = img.shape
    ky, kx = kernel.shape
    ky, kx = ky//2, kx//2
    kflip = kernel[::-1, ::-1]
    work = pad(img, kx, ky)
    out = np.zeros((h, w), dtype=np.float64)
    for i in range(h):
        for j in range(w):
            acc = 0.0
            for y in range(kernel.shape[0]):
                for x in range(kernel.shape[1]):
                    acc += work[y + i, x + j] * kflip[y, x]
            out[i, j] = acc
    return out

def two_loops(img, kernel):
    h, w = img.shape
    ky, kx = kernel.shape
    kflip = kernel[::-1, ::-1]
    work = pad(img, kx//2, ky//2)
    out = np.zeros((h, w), dtype=np.float64)
    for i in range(h):
        for j in range(w):
            patch = work[i:i+ky, j:j+kx]
            out[i, j] = np.sum(patch * kflip)
    return out

def auto_convolve(img, kernel):
    if img.ndim == 2:
        return convolve2d(img, kernel, mode='same', boundary='symm')
    else:
        out = np.zeros_like(img, dtype=np.float64)
        for c in range(img.shape[2]):
            out[..., c] = convolve2d(img[..., c], kernel, mode='same', boundary='symm')
        return out
        </pre>

        <h3>Basic Convolution Results</h3>
        <div>
            <div style="margin-bottom: 30px;">
                <img src="proj2/1_1_box.png" alt="Box Filter Result" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">9x9 Box Filter</div>
            </div>
            <div style="margin-bottom: 30px;">
                <img src="proj2/1_1_dx.png" alt="Dx Result" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Finite Difference D_x</div>
            </div>
            <div style="margin-bottom: 30px;">
                <img src="proj2/1_1_dy.png" alt="Dy Result" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Finite Difference D_y</div>
            </div>
        </div>

        <h3 id="part1-2">Part 1.2: Finite Difference Operator</h3>
        <p>
            Using finite difference operators D_x = [[1, 0, -1]] and D_y = [[1], [0], [-1]], I computed partial derivatives 
            and gradient magnitudes of the cameraman image. The gradient magnitude reveals edges but includes significant noise.
        </p>

        <div>
            <div style="margin-bottom: 30px;">
                <img src="proj2/1_2_dxdy.png" alt="Partial Derivatives" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Partial Derivatives ∂/∂x and ∂/∂y</div>
            </div>
            <div style="margin-bottom: 30px; max-width: 500px; margin-left: auto; margin-right: auto;">
                <img src="proj2/1_2_gradient.png" alt="Gradient Magnitude" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Gradient Magnitude</div>
            </div>
        </div>

        <h3>Edge Detection with Thresholding</h3>
        <p>
            To create an edge image, I binarized the gradient magnitude using a threshold of 50 (pixel value), chosen to balance 
            between noise suppression and edge preservation:
        </p>
        <div class="comparison">
            <div class="comparison-item">
                <img src="proj2/1_2_gradient.png" alt="Gradient Magnitude">
                <div class="comparison-label">Gradient Magnitude</div>
            </div>
            <div class="comparison-item">
                <img src="proj2/1_2_binary.png" alt="Binarized Edges">
                <div class="comparison-label">Binarized Edges (threshold = 50 pixel value)</div>
            </div>
        </div>

        <h3 id="part1-3">Part 1.3: Derivative of Gaussian (DoG) Filter</h3>
        <p>
            To reduce noise in edge detection, I first smoothed the image with a Gaussian filter before applying derivatives. 
            This can be combined into a single convolution using Derivative of Gaussian (DoG) filters.
        </p>

        <h3>Gaussian Smoothing Results</h3>
        <div class="triple-comparison">
            <div class="comparison-item">
                <img src="proj2/1_3_gaussian.png" alt="Gaussian Blurred">
                <div class="comparison-label">Gaussian Blurred</div>
            </div>
            <div class="comparison-item">
                <img src="proj2/1_3_2pass_grad.png" alt="Gradient of Blurred">
                <div class="comparison-label">Gradient Magnitude (Blurred)</div>
            </div>
            <div class="comparison-item">
                <img src="proj2/1_3_2pass_binary.png" alt="Edges from Blurred">
                <div class="comparison-label">Edges (threshold = 25 pixel value)</div>
            </div>
        </div>

        <p>
            <strong>Key Observation:</strong> Gaussian smoothing significantly reduces noise in the edge detection. 
            The edges are cleaner and more continuous compared to the direct finite difference approach. Additionally, 
            the threshold decreased by 2x, showing how Gaussian filtering is more optimal for filtering noise while 
            detecting the most edges.
        </p>

        <h3>Derivative of Gaussian Filters</h3>
        <p>
            By convolving the Gaussian with D_x and D_y, we create DoG filters that combine smoothing and differentiation:
        </p>
        <div class="comparison">
            <div class="comparison-item">
                <img src="proj2/1_3_dx_dy.png" alt="DoG Filters">
                <div class="comparison-label">DoG Filters (x and y directions)</div>
            </div>
            <div class="comparison-item">
                <img src="proj2/1_3_1pass_convolved_dx_dy.png" alt="DoG Applied">
                <div class="comparison-label">DoG Filters Applied</div>
            </div>
        </div>
        <div class="comparison">
            <div class="comparison-item">
                <img src="proj2/1_3_1pass_grad.png" alt="Single Pass Gradient">
                <div class="comparison-label">Gradient from Single Convolution (DoG)</div>
            </div>
            <div class="comparison-item">
                <img src="proj2/1_3_2pass_grad.png" alt="Two Pass Gradient">
                <div class="comparison-label">Gradient from Two Convolutions</div>
            </div>
        </div>

        <div class="highlight">
            <p><strong>Verification:</strong> Applying DoG filters directly produces identical results to smoothing then differentiating. Confirmed this 
            by taking the difference of the max pixel from both images, and the difference was 0.</p>
        </div>

        <div style="background: linear-gradient(90deg, #1a1a1a 0%, transparent 100%); padding: 20px; margin: 60px -20px 40px; border-left: 3px solid #4080ff;">
            <h2 id="part2" style="margin: 0; color: #4080ff;">Part 2: Fun with Frequencies</h2>
            <div style="color: #808080; font-size: 0.9em; margin-top: 5px;">Exploring image manipulation in the frequency domain</div>
        </div>

        <h3 id="part2-1">Part 2.1: Image Sharpening</h3>
        <p>
            Using the unsharp masking technique, we can enhance image details by amplifying high frequencies. 
            The process involves subtracting a blurred version from the original to isolate high frequencies, 
            then adding them back with amplification:
        </p>

        <div class="algorithm-box">
            <p><strong>Unsharp Mask Formula:</strong> sharpened = original + α * (original - blurred)</p>
        </div>

        <h3>Taj Mahal Sharpening</h3>
        <p>Original image, blurred version, and sharpened results with different alpha values:</p>
        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 20px; margin: 40px 0;">
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/taj.jpg" alt="Original Taj">
                </div>
                <div class="image-caption">Original</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/2_1_blurred_taj.png" alt="Blurred Taj">
                </div>
                <div class="image-caption">Blurred</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/2_1_alpha1_taj.png" alt="Alpha 1">
                </div>
                <div class="image-caption">α = 1</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/2_1_alpha2_taj.png" alt="Alpha 2">
                </div>
                <div class="image-caption">α = 2</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/2_1_alpha5_taj.png" alt="Alpha 5">
                </div>
                <div class="image-caption">α = 5</div>
            </div>
        </div>

        <h3>Blur-then-Sharpen Evaluation</h3>
        <p>
            To evaluate the technique, I took a sharpened Taj image (α = 1), blurred it, then attempted to restore it through re-sharpening:
        </p>
        <div class="triple-comparison">
            <div class="comparison-item">
                <img src="proj2/2_1_alpha1_taj.png" alt="Sharp Taj">
                <div class="comparison-label">Sharpened Taj (α = 1)</div>
            </div>
            <div class="comparison-item">
                <img src="proj2/2_1_blurred_sharpened_taj.png" alt="Blurred Sharpened">
                <div class="comparison-label">Blurred (of sharpened)</div>
            </div>
            <div class="comparison-item">
                <img src="proj2/2_1_alpha1_shaprpened_taj.png" alt="Re-sharpened">
                <div class="comparison-label">Re-sharpened (α = 1)</div>
            </div>
        </div>
        <p>
            <strong>Observation:</strong> While sharpening enhances edges, it cannot fully recover details lost in blurring. 
            The re-sharpened image shows enhanced edges but lacks the fine details of the original sharpened image, demonstrating the 
            fundamental limitation that information lost through blurring cannot be completely restored.
        </p>

        <h3>Additional Sharpening Example - Tree</h3>
        <p>Another example with a tree image, showing the same sharpening process:</p>
        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 20px; margin: 40px 0;">
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/tree.jpg" alt="Original Tree">
                </div>
                <div class="image-caption">Original</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/2_1_blurr_tree.png" alt="Blurred Tree">
                </div>
                <div class="image-caption">Blurred</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/2_1_alpha1_tree.png" alt="Alpha 1 Tree">
                </div>
                <div class="image-caption">α = 1</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/2_1_alpha2_tree.png" alt="Alpha 2 Tree">
                </div>
                <div class="image-caption">α = 2</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/2_1_alpha5_tree.png" alt="Alpha 5 Tree">
                </div>
                <div class="image-caption">α = 5</div>
            </div>
        </div>

        <h3 id="part2-2">Part 2.2: Hybrid Images</h3>
        <p>
            Following Oliva, Torralba, and Schyns (2006), I created hybrid images that change interpretation with viewing distance. 
            High frequencies dominate at close range while only low frequencies are visible from afar.
        </p>

        <h3>Cat/Man Hybrid Results</h3>
        <div>
            <div style="margin-bottom: 30px;">
                <img src="proj2/2_2_gaussian_catman.png" alt="Gaussian Cat Man" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Gaussian Stack</div>
            </div>
            <div style="margin-bottom: 30px;">
                <img src="proj2/2_2_laplace_catman.png" alt="Laplacian Cat Man" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Laplacian Stack</div>
            </div>
            <div style="margin-bottom: 30px; max-width: 500px; margin-left: auto; margin-right: auto;">
                <img src="proj2/2_2_cat_man.png" alt="Cat Man Hybrid" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Cat/Man Hybrid Result</div>
            </div>
        </div>

        <h3>Messi/Ronaldo Hybrid Results (with Frequency Analysis)</h3>
        <div>
            <div style="margin-bottom: 30px;">
                <img src="proj2/2_2_gaussian_leonaldo.png" alt="Gaussian Messi Ronaldo" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Gaussian Stack</div>
            </div>
            <div style="margin-bottom: 30px;">
                <img src="proj2/2_2_laplace_leonaldo.png" alt="Laplacian Messi Ronaldo" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Laplacian Stack</div>
            </div>
            <div style="margin-bottom: 30px; max-width: 500px; margin-left: auto; margin-right: auto;">
                <img src="proj2/2_2_leonaldo.png" alt="Messi Ronaldo Hybrid" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Messi/Ronaldo Hybrid Result</div>
            </div>
        </div>

        <h3>Frequency Domain Analysis</h3>
        <p>
            Complete frequency domain analysis for the Messi/Ronaldo hybrid:
        </p>
        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 20px;">
            <div class="image-wrapper" style="max-width: 280px; margin: 0 auto;">
                <div class="image-container">
                    <img src="proj2/2_2_fft_im1.png" alt="FFT Input 1">
                </div>
                <div class="image-caption">Messi FFT</div>
            </div>
            <div class="image-wrapper" style="max-width: 280px; margin: 0 auto;">
                <div class="image-container">
                    <img src="proj2/2_2_fft_im2.png" alt="FFT Input 2">
                </div>
                <div class="image-caption">Ronaldo FFT</div>
            </div>
            <div class="image-wrapper" style="max-width: 280px; margin: 0 auto;">
                <div class="image-container">
                    <img src="proj2/2_2_fft_im2_low.png" alt="Low-pass FFT">
                </div>
                <div class="image-caption">Ronaldo Low-pass FFT</div>
            </div>
            <div class="image-wrapper" style="max-width: 280px; margin: 0 auto;">
                <div class="image-container">
                    <img src="proj2/2_2_fft_im1_high.png" alt="High-pass FFT">
                </div>
                <div class="image-caption">Messi High-pass FFT</div>
            </div>
            <div class="image-wrapper" style="max-width: 280px; margin: 0 auto;">
                <div class="image-container">
                    <img src="proj2/2_2_fft_hybrid.png" alt="Hybrid FFT">
                </div>
                <div class="image-caption">Hybrid FFT</div>
            </div>
        </div>
        <p style="margin-top: 20px;">
            <strong>FFT Analysis:</strong> The frequency domain visualization clearly shows the filtering process. Initially, both Messi and Ronaldo 
            images contain the full frequency spectrum. After filtering, Ronaldo's image retains only low frequencies, while Messi's image keeps only high frequencies. 
            The hybrid FFT combines both components, showing how the final image contains low frequencies from one source and high frequencies from another.
        </p>

        <h3>Smile/Neutral Hybrid Results</h3>
        <div>
            <div style="margin-bottom: 30px;">
                <img src="proj2/2_2_gaussian_smile_nt.png" alt="Gaussian Smile" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Gaussian Stack</div>
            </div>
            <div style="margin-bottom: 30px;">
                <img src="proj2/2_2_laplace_smile_nt.png" alt="Laplacian Smile" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Laplacian Stack</div>
            </div>
            <div style="margin-bottom: 30px; max-width: 500px; margin-left: auto; margin-right: auto;">
                <img src="proj2/2_2_smile_nt.png" alt="Smile Neutral Hybrid" style="width: 100%; border-radius: 4px;">
                <div style="color: #808080; font-size: 0.9em; text-align: center; margin-top: 10px;">Smile/Neutral Hybrid Result</div>
            </div>
        </div>


        <h3 id="part2-3">Part 2.3: Gaussian and Laplacian Stacks</h3>
        <p>
            I implemented Gaussian and Laplacian stacks (similar to pyramids but without downsampling) to prepare for 
            multi-resolution blending. Each level applies progressively more Gaussian blurring while maintaining full resolution.
        </p>
        <p>
            <strong>Blending Process:</strong> The multiresolution blending works by decomposing each input image into frequency bands 
            using Laplacian stacks. For each level, we blend the apple and orange Laplacian images using a mask that is also 
            Gaussian-blurred at that level. This creates smooth transitions at each frequency scale - sharp transitions for 
            high-frequency details and gradual transitions for low-frequency components. The final result is obtained by 
            summing all the blended Laplacian levels, creating the seamless "Orapple" below.
        </p>

        <h3>Orapple Stack Visualization</h3>
        <p>Recreating Figure 3.42 from Szeliski - showing the Gaussian and Laplacian decomposition at different levels:</p>
        <div style="max-width: 50%; margin: 0 auto;">
            <img src="proj2/2_3_lv0.png" alt="Level 0" style="width: 100%; display: block;">
            <img src="proj2/2_3_lv1.png" alt="Level 1" style="width: 100%; display: block;">
            <img src="proj2/2_3_lv2.png" alt="Level 2" style="width: 100%; display: block;">
            <img src="proj2/2_3_lv3.png" alt="Level 3" style="width: 100%; display: block;">
            <img src="proj2/2_3_lv4.png" alt="Level 4" style="width: 100%; display: block;">
            <img src="proj2/2_3_lv5.png" alt="Level 5" style="width: 100%; display: block;">
            <img src="proj2/2_3_lv6.png" alt="Level 6" style="width: 100%; display: block;">
        </div>

        <h3 id="part2-4">Part 2.4: Multiresolution Blending</h3>
        <p>
            Using the Gaussian and Laplacian stacks, I implemented Burt and Adelson's (1983) multiresolution blending algorithm. 
            This creates smooth seams by blending different frequency bands separately.
        </p>

        <h3>The Classic Orapple</h3>
        <div style="max-width: 400px; margin: 0 auto;">
            <img src="proj2/2_4_orapple.png" alt="Orapple" style="width: 100%; border-radius: 4px;">
        </div>


        <h3>Custom Blends - Darbar Sahib</h3>
        <p>Original images used for blending:</p>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 600px; margin: 20px auto;">
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/darbar_old_original.jpeg" alt="Old Darbar Sahib">
                </div>
                <div class="image-caption">Historical Darbar Sahib</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/darbar_now_original.jpeg" alt="Modern Darbar Sahib">
                </div>
                <div class="image-caption">Modern Darbar Sahib</div>
            </div>
        </div>
        <p style="margin-top: 30px;">Laplacian stack levels showing the blending process:</p>
        <div style="max-width: 50%; margin: 0 auto;">
            <img src="proj2/2_4_darbar_sahib_lv0.png" alt="Level 0" style="width: 100%; display: block;">
            <img src="proj2/2_4_darbar_sahib_lv1.png" alt="Level 1" style="width: 100%; display: block;">
            <img src="proj2/2_4_darbar_sahib_lv2.png" alt="Level 2" style="width: 100%; display: block;">
            <img src="proj2/2_4_darbar_sahib_lv3.png" alt="Level 3" style="width: 100%; display: block;">
            <img src="proj2/2_4_darbar_sahib_lv4.png" alt="Level 4" style="width: 100%; display: block;">
            <img src="proj2/2_4_darbar_sahib_lv5.png" alt="Level 5" style="width: 100%; display: block;">
            <img src="proj2/2_4_darbar_sahib_lv6.png" alt="Level 6" style="width: 100%; display: block;">
            <div style="margin: 30px auto; max-width: 500px;">
                <img src="proj2/2_4_darbar_sahib_result.png" alt="Darbar Sahib Blend" style="width: 100%; border-radius: 4px;">
            </div>
        </div>

        <h3>Custom Blends - Big Ben (Irregular Mask)</h3>
        <p>Original images used for blending with irregular mask:</p>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 800px; margin: 20px auto;">
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/ben.png" alt="Big Ben">
                </div>
                <div class="image-caption">Big Ben</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/berk.png" alt="Berkeley">
                </div>
                <div class="image-caption">Berkeley Campus</div>
            </div>
        </div>
        <p style="margin-top: 30px;">Laplacian stack levels showing the irregular mask blending:</p>
        <div style="max-width: 70%; margin: 0 auto;">
            <img src="proj2/2_4_ben_lv0.png" alt="Level 0" style="width: 100%; display: block;">
            <img src="proj2/2_4_ben_lv1.png" alt="Level 1" style="width: 100%; display: block;">
            <img src="proj2/2_4_ben_lv2.png" alt="Level 2" style="width: 100%; display: block;">
            <img src="proj2/2_4_ben_lv3.png" alt="Level 3" style="width: 100%; display: block;">
            <img src="proj2/2_4_ben_lv4.png" alt="Level 4" style="width: 100%; display: block;">
            <img src="proj2/2_4_ben_lv5.png" alt="Level 5" style="width: 100%; display: block;">
            <img src="proj2/2_4_ben_lv6.png" alt="Level 6" style="width: 100%; display: block;">
            <img src="proj2/2_4_Ben_result.png" alt="Ben Franklin Blend" style="width: 100%; display: block; margin-top: 30px;">
        </div>

        <h3>Custom Blends - Eye</h3>
        <p>Original images used for blending:</p>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 600px; margin: 20px auto;">
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/eye.jpeg" alt="Eye">
                </div>
                <div class="image-caption">Eye</div>
            </div>
            <div class="image-wrapper">
                <div class="image-container">
                    <img src="proj2/hand.jpeg" alt="Hand">
                </div>
                <div class="image-caption">Hand</div>
            </div>
        </div>
        <p style="margin-top: 30px;">Laplacian stack levels showing the blending process:</p>
        <div style="max-width: 50%; margin: 0 auto;">
            <img src="proj2/2_4_eye_lv0.png" alt="Level 0" style="width: 100%; display: block;">
            <img src="proj2/2_4_eye_lv1.png" alt="Level 1" style="width: 100%; display: block;">
            <img src="proj2/2_4_eye_lv2.png" alt="Level 2" style="width: 100%; display: block;">
            <img src="proj2/2_4_eye_lv3.png" alt="Level 3" style="width: 100%; display: block;">
            <img src="proj2/2_4_eye_lv4.png" alt="Level 4" style="width: 100%; display: block;">
            <img src="proj2/2_4_eye_lv5.png" alt="Level 5" style="width: 100%; display: block;">
            <img src="proj2/2_4_eye_lv6.png" alt="Level 6" style="width: 100%; display: block;">
            <div style="margin: 30px auto; max-width: 500px;">
                <img src="proj2/2_4_eye_result.png" alt="Eye Blend" style="width: 100%; border-radius: 4px;">
            </div>
        </div>

        <h2 id="summary">Summary and Key Learnings</h2>
        <div class="highlight">
            <p>
                <strong>Most Important Learning:</strong> The power of frequency domain analysis in understanding and manipulating images. 
                By separating images into different frequency bands, we can selectively enhance details (sharpening), create perceptually 
                interesting hybrid images, and achieve seamless blending that would be impossible with simple pixel-level operations.
            </p>
            <p>
                The multiresolution approach particularly impressed me - by handling each frequency band separately, the algorithm 
                naturally creates smooth transitions that respect both the structure and texture of the source images. This principle 
                extends beyond image processing to many signal processing applications.
            </p>
        </div>

        <div style="text-align: center; color: #606060; margin-top: 80px; padding: 40px 0; border-top: 1px solid #2a2a2a;">
            © 2025 Sukhamrit Singh. All rights reserved.
        </div>
    </div>
</body>
</html>